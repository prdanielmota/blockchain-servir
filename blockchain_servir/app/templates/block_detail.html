{% extends "admin/base_admin.html" %}

{% block content %}
<div class="block-detail-container">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <h1>üì¶ Block #{{ block.id }}</h1>
        <a href="{{ url_for('admin.dashboard') }}" style="text-decoration: none;">
            <button style="padding: 10px 20px;">‚Üê Back to Explorer</button>
        </a>
    </div>

    <div class="card" style="margin-bottom: 20px;">
        <h3 style="margin-top: 0; border-bottom: 2px solid #eee; padding-bottom: 10px;">Overview</h3>
        
        <div class="detail-row">
            <div class="label">Hash:</div>
            <div class="value hash">{{ block.hash }}</div>
        </div>
        
        <div class="detail-row">
            <div class="label">Previous Hash:</div>
            <div class="value hash" style="color: #666;">{{ block.prev_hash }}</div>
        </div>
        
        <div class="detail-row">
            <div class="label">Timestamp:</div>
            <div class="value">{{ block.timestamp.strftime('%Y-%m-%d %H:%M:%S UTC') }}</div>
        </div>
        
        <div class="detail-row">
            <div class="label">Mined By:</div>
            <div class="value">
                {% if block.user %}
                    <span class="user-badge">{{ block.user.name }} (ID: {{ block.user_id }})</span>
                {% else %}
                    System
                {% endif %}
            </div>
        </div>
        
        <div class="detail-row">
            <div class="label">Status:</div>
            <div class="value">
                <span style="background: #def7ec; color: #03543f; padding: 2px 8px; border-radius: 4px; font-weight: bold;">
                    ‚úÖ Finalized
                </span>
            </div>
        </div>
    </div>

    <div class="card">
        <h3 style="margin-top: 0; border-bottom: 2px solid #eee; padding-bottom: 10px;">Transaction Data (JSON)</h3>
        <pre style="background: #f8f9fa; padding: 15px; border-radius: 4px; overflow-x: auto;">{{ block.data }}</pre>
    </div>
</div>

<style>
    .detail-row {
        display: flex;
        padding: 12px 0;
        border-bottom: 1px solid #f0f0f0;
    }
    .detail-row:last-child {
        border-bottom: none;
    }
    .label {
        width: 150px;
        font-weight: bold;
        color: #555;
    }
    .value {
        flex: 1;
        word-break: break-all;
    }
    .hash {
        font-family: 'Space Mono', monospace;
        color: #3498db;
    }
    .user-badge {
        background: #e8f0fe;
        color: #2980b9;
        padding: 2px 8px;
        border-radius: 12px;
        font-size: 0.9em;
    }
</style>
{% endblock %}
